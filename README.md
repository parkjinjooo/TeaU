# TeaU
코로나로 인해 카페마저 가기 쉽지 않은 상황에서 현대인들의 지친 마음과 몸을 달래줄 차 사이트를 제작하였습니다. 
일반 차 사이트와는 다르게 다양한 블렌딩 차들로 구성되어있고, 티 파인더를 통해 자신의 차 취향을 찾을 수 있고,
정기구독으로 본인이 선택한 취향 안에서 매달 차들을 랜덤으로 받아 선물 받는 듯한 느낌을 줍니다. 


# 설계 
팀 프로젝트로 진행되어, Balsamic Cloud를 사용하여 뼈대를 제작하였고, Aquerytool을 사용하여 DB를 설계하였습니다. 
기능 리스트와 세부 일정표를 만들어 일정을 관리하였습니다. 


# 사용된 기술 
DB : Oracle
Front : Visual Studio, Html, CSS, Javascript, jQuery, BootStrap
Back : Spring, Java, ApacheTomcat, Mybatis, Jsp
Configuration Management :  Git, SourceTree


# 담당 파트 
Front : 메인 화면 디자인, FAQ 디자인, 회원가입디자인 
Back: 구독 기능, 상품판매기능, 장바구니 기능, 결제기능 


# 기술이슈 & 해결 
1. JSP의 중복문제 
페이지마다 삽입과 수정에서 비슷한 JSP가 사용되었고, 그 과정에서 늘어나는 JSP의 수를 줄이기 위해 Ajax를 사용하여 
정보가 있을 때와 없을 때로 구분하여 다른 경로로 정보를 보내주어 분기처리 하였습니다. 

2. 수정페이지에서의 기존 선택지
수정페이지에 접속할 때 기존의 선택한 선택지들이 선택되어있게 하도록 수정 메소드에서는 정보를 보내고 
Javascript를 사용하여 정보가 있을 때 해당하는 정보들이 선택되어 있게 하였습니다. 

3. 회원 정보의 세션 유지 
구독과 결제와 같은 주된 기능은 회원만 가능하도록 설계하여 회원의 정보를 세션에서 계속 유지해주는 기능이 필요했습니다. 
'com_lib.js'라는 공통으로 쓰이는 js 파일을 만들어 header.jsp에 추가해주었습니다.
그리고 header에서 페이지가 로드될 때 com_lib.js를 활성화해줄  메소드를 호출하고, 해당 메소드는 AJAX를 사용하여 session에서 존재하는 회원의 정보를 리턴받습니다. 
리턴 받은 정보는 다시 다른 메소드를 통해 header로 이동하고 
header에서는 파라미터로 받은 회원의 정보로 null인지 아닌지를 판별하여 주된 기능을 수행하였습니다. 
회원 정보가 있다면 true로 모든 기능을 사용할 수 있고, 만약 회원 정보가 없다면 '회원전용'이라는 메시지를 띄운 후 로그인 페이지로 이동하도록 하였습니다. 

4. 비회원 장바구니
비회원도 장바구니를 사용할 수 있도록 만들기 위해 상품 상세페이지에서 장바구니 버튼을 누를 때 Ajax 기술을 사용하여
세션의 회원 정보가 있을 때 와 없을 때로 나누어 다른 정보들을 전달했고 전해지는 정보에 따라 회원의 장바구니 DB에
정보를 저장하거나 단순히 차에 관한 일시적으로 차에 대한 정보만을 띄워주는 페이지로 나누어 제작하였습니다.
또, 만약 비회원이 결제를 시도하는 경우 로그인 페이지로 넘어가고 로그인 후에 다시 해당 장바구니로 넘어오게 되고, 
여기에서는 기존의 담아두었던 장바구니의 상품들과 비로그인 시 담아두었던 상품이 추가되어 담겨있게 됩니다. 


5. 장바구니와 결제에서 필요한 정보 
장바구니와 결제에서는 선택한 차에 대한 이름, 가격, 차의 고유번호, 등의 정보들이 필요하였고 
이 정보들을 모두 DB의 칼럼으로 추가하기에는 DB가 무거워지고 불필요한 정보들이 담긴다는 생각을 하였습니다. 
그래서 이 부분은 결제 table과 차 table을, 장바구니와 table과 차 table 조인하여 DB의 추가 없이 필요한 정보들을 가져왔습니다.  









